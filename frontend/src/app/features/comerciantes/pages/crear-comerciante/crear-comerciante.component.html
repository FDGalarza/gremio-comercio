<div class="crear-comerciante-container">
  <h2>{{ modoEdicion ? 'Editar Comerciante' : 'Crear Comerciante' }}</h2>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    
    <!-- Nombre y correo -->
    <div class="form-row">
      <div class="form-group">
        <label>Nombre/Razón Social *</label>
        <input formControlName="nombreRazonSocial" placeholder="Ingrese la razón social">
      </div>
      <div class="form-group">
        <label>Correo Electrónico</label>
        <input formControlName="correoElectronico" placeholder="correo@ejemplo.com">
      </div>
    </div>

    <!-- Estado y Municipio -->
    <div class="form-row">
      <div class="form-group">
        <label>Estado *</label>
        <select formControlName="estado">
          <option value="">Seleccione...</option>
          <option value="ACTIVO">ACTIVO</option>
          <option value="INACTIVO">INACTIVO</option>
        </select>
      </div>
      <div class="form-group">
        <label>Municipio *</label>
        <select formControlName="municipio">
            <option value="">Seleccione...</option>
            <option *ngFor="let m of municipios" [value]="m.nombre">{{ m.nombre }}</option>
        </select>
      </div>
    </div>

    <!-- Teléfono y Fecha -->
    <div class="form-row">
      <div class="form-group">
        <label>Teléfono</label>
        <input formControlName="telefono" placeholder="Ingrese el teléfono">
      </div>
      <div class="form-group">
        <label>Fecha de Registro *</label>
        <input type="date" formControlName="fechaRegistro">
      </div>
    </div>

    <!-- Checkbox -->
    <div class="form-row">
      <div class="form-group">
        <label>
          <input type="checkbox" formControlName="poseeEstablecimientos"> ¿Posee establecimientos?
        </label>
      </div>
    </div>

    <!-- Sumatorias (solo en edición) -->
    <div *ngIf="modoEdicion && form.value.poseeEstablecimientos" class="sumatorias">
      <p>Total ingresos: {{ totalIngresos | currency }}</p>
      <p>Total empleados: {{ totalEmpleados }}</p>
    </div>

    <!-- Mensaje de error -->
    <div *ngIf="errorMsg" class="error">{{ errorMsg }}</div>

    <!-- Acciones -->
    <div class="form-actions">
      <button type="submit" [disabled]="form.invalid" class="btn btn-primary">
        {{ modoEdicion ? 'Actualizar' : 'Crear' }}
      </button>
      <button type="button" class="btn btn-secondary" routerLink="/home">Cancelar</button>
    </div>

  </form>
</div>
<div *ngIf="modoEdicion" class="footer-sumatorias">
  <p>Total Ingresos: {{ totalIngresos | currency }}</p>
  <p>Total Empleados: {{ totalEmpleados }}</p>
</div>

